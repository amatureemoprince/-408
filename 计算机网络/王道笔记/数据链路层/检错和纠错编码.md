## 差错控制功能
![画板](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1735790456195-ff63bd61-b010-4d87-af95-821b3e0f8f38.jpeg)

## 检错编码
![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1735800354720-ea941a0c-66bf-4238-bb93-80f226eac160.png)

### 奇偶校验码
#### 奇校验码
整个校验码（校验位+有效信息位）中 1 的个数是奇数

#### 偶校验码
个校验码（校验位+有效信息位）中 1 的个数是偶数



**在日常使用中更常用的是偶校验，因为偶检验只需要将所有信息位全部进行异或运算，结果为 0 就是没有错误，否则就是有错误的。**

但是这个奇偶校验只能校验奇数个错误，如果发生偶数个错误是无法检测到的并且只有检错功能没有纠错功能

### CRC 校验码（循环冗余校验码）
![画板](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1735802911744-d79f7292-be42-45b7-94d7-3b136f6b1677.jpeg)

![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1735803307408-e7ad170a-a2ea-432f-a1be-4ad90223cfa4.png)

#### 基本思想
发送方和接受方约定一个除数，接收方在接收到信息后使用这个除数，用信息（信息位+校验位）除以这个除数，如果结果为 0 就表示没有错误，否则就有错误。

发送方在发送的时候需要保证添加的校验位和信息位除以这个除数是为 0 的。

![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1735804147393-71082caf-decd-4040-af00-b92fe2ccb76b.png)

在这里举个例子：会给出生成多项式，这个包含除数信息和校验码的位数信息（最高幂次），然后根据校验码的位数往后添相应个数的 0，使用得到的二进制数除以除数，得到的余数就是校验位。从而就地道了 CRC 码了。（注意：在进行二进制的除法时只需要看最高位，与除数的最高位相同就商 1，否则商 0，每次保留比除数少一位的结果就行，这样最后的余数也只会比除数少一位）
CRC 在 2^R>=K+R+1 的情况下可以有纠错 1 位 bit 的功能，如果信息位太多了就不能发现出错的在什么地方了，如果出错的在第一位接收方除后的余数对应的十进制为 1（这个是在2^R>=K+R+1 这个条件下的）以此类推。但是实际应用中是不会拿来纠错的，因为信息位的个数对于检验位可以表示的个数大的太多了

CRC 校验码的能力：

+ 可以检测出所有奇数个错误
+ 可以检测出所有双比特的错误
+ 可以检测出所有小于等于校验位长度的连续错误
+ 若满足 2^R>=K+R+1 则可以纠正单比特错误

## 纠错校验码
### 海明校验码
设计思路：将信息位分组进行偶校验。所需要的条件还是 2^R>=R+K+1

设海明码是 Hn+kHn-1Hn-2....H1，信息位是 DnDn-1Dn-2...D1，校验位为 PkPk-1Pk-2...P1

校验码的分布不再像是上面的那样的全部位于信息位的前或后方，而是分布在各处，需要的规则是：

Pi 处于海明码的 H（2^(i-1)）处，P1 在 H1 处，P2 在 H2 处，P3 在 H4 处以此类推。信息位就从小位到大位依次排好就行。

那怎样确定这个校验码为多少呢？

这样的，将信息位所处的海明码 Hi 这个 i 写成二进制的形式（位数是和校验码的总数一样的），Pi 这个 i 代表的是权重，看所有信息位对应的权重上为 1 的信息位作异或操作得到的值就是对应权重的校验位的值

![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1735813513926-c92de591-0931-4bdd-8c5b-a60b2f1cfb0d.png)

重要的纠错步骤：

在接收方接收到这个信号后进行检验：

有多少个校验位就会有多少个 S，根据之前分好的组进行检验。如上：

P1、D1、D2、D4 在一组，进行异或操作，同理将其余的分组也进行异或操作，将得出的数据按 SnSn-1...S1 的循序排好，将其转换为十进制，若为 0 则表示无差错，否则是几就是在传输的海明码第几位发生错误。

**在实际应用中还会有一个全校验位（对后面整体进行偶校验得出的值），因为不使用这个全校验位无法区分是一位出错还是两位出错。如果是两位出错的话，海明校验码是无法进行纠错的，只有进行重传才行。**

****

****

