# 引入面临的问题
在一个局域网中（比如校园网），因为节点还是比较多的，所以可能会有许多节点发送广播帧，这些广播帧会被发送到每个节点，这样很可能会引发广播风暴。

而且在局域网中可能会存在高敏感的结点（如数据库、服务器），会导致不安全。

# 虚拟局域网
![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1738208344606-abf01f25-70e8-42a9-aefc-2acfd238b894.png)

可以将一个大型的局域网划分为多个虚拟局域网（VLAN），每个 VLAN 是一个广播域

每个 VLAN 对应一个 VID，就是 VLAN-10 后面的 10

但是这个需要一个支持 VLAN 技术的交换机才行

## VLAN 划分方式
### 1、按接口划分
假设一个两个支持 VLAN 的交换机有 1~10 接口，管理员可以将偶数划为 VLAN-1，奇数划为 VLAN-2

### 2、按 mac 地址划分
就是将不同的 mac 地址绑定到 VLAN 中

### 3.按 ip 地址划分
这个可以跨多个局域网，将不同局域网中的结点划分到同一个 VLAN 中，这个需要网络层的支持所以这个交换机需要实现部分网络层的功能，使得其会更加复杂

# 怎样识别在一个 VLAN 中不同交换机中的传输的主机有哪些
在两个交换机之下会有多个节点，可能被分到不同的 VLAN 中，一个数据帧在跨越交换机时怎样可以让交换机知道可以传输到的主机有哪些呢？

这里就需要理解一个地方了，在主机与交换机之间是以标准以太网帧，交换机和交换机之间是使用 802.1Q 帧的。

然后这个 802.1Q 帧是会包括 VID 的，这样就知道了要传给哪个节点了。

## 802.1Q 帧的结构
与标准的以太网帧相比就是对了一个 4 字节的 VLAN 标签，在源地址后

6 6 4 2 N 4 这样的结构

# 总结
![画板](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1738239904612-5c2d9162-aa57-4066-8d90-7a3bc86aa665.jpeg)









