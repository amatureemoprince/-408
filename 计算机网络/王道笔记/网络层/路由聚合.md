**路由聚合：对于一个路由转发表，如果几条路由表项的转发接口相同，部分网络前缀也相同，那么可以将这几条路由表项聚合为一条。这种地址的聚合称为路由聚合，也称为构成超网。**

![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1739020579231-7936f0be-94a8-48ce-9a16-303f4950fc4d.png)

比如上面的例子：

对于县里的路由转发表 1、2、3 的前 27 位网络前缀是一致的并且都是从 G1 发送帧，所以可以将这 3 个子网聚合为一个存储到路由表中。

好处：

使得路由转发表更小，更不占内存，查询的更快

坏处：

可能会引入一些额外的多余地址，但是这个是不会影响路由表的正常工作的

# 最长前缀匹配原则
IP 数据报在经过路由器的转发过程中可能有多个表项可以与之匹配，此时按照怎样的原则进行匹配呢？

答案就是按子网掩码的长度进行匹配，越长的越先。



![画板](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1738937808135-9ad2a39c-0fc7-4eda-9589-3cd1fe437e38.jpeg)

![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1739275910976-79f3dc6d-718e-4871-ae7f-6f7da64afc5f.png)

在路由聚合的情况下如果有多个相同的表项就采用最长前缀原则



