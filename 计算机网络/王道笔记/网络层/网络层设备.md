# 隔离冲突域和广播域
第二层设备（交换机、网桥）可以隔离冲突域

第三层设备（路由器）可以隔离广播域

# 路由器的组成和功能
当源主机向目的主机发送数据报时，路由器会判断这两个主机是不是在同一个网络中的，如果在的话，就不需要通过路由器转发，直接交付就行了。如果不在就需要路由器通过路由转发表（这个是通过路由表得出的，路由表是通过静态分配或者 IGP 得出的）进行转发了。

路由器可以连接协议不相同的两个网络，所以说是隔离了广播域。

## 从结构上看
路由器是由路由选择和分组转发两部分构成的
路由选择：这个又称为控制部分，核心构件是路由选择处理机，其任务是根据选定的路由协议构造出路由表，同时经常或定期地和相邻路由器交换路由信息而不断更新和维护路由表

分组转发：由三部分组成：

+ 交换结构
+ 一组输入端口
+ 一组输出端口

![](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1740054682290-8a3ab6bb-c686-4e26-840c-7e7d47f2bd1b.jpeg)

## 从模型上看
是一个网络层的设备，它实现了下三层的功能。



路由器端口在网络层的处理模块中都设有一个缓冲队列，用来暂存等待处理或已处理完毕待发送的分组，还可以用来进行必要的差错检测。如果分组处理的速率赶不上分组进入队列的速率，就会将没有进入缓冲区（满了）的分组丢弃，所以说路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因。

# 路由表与分组转发
路由表是通过路由选择算法得出的，主要用途是路由选择。

路由表的四个项目：目的网络 IP 地址、子网掩码、下一跳 IP 地址、接口（用于发送）

转发表是通过路由表得出来的，转发表的表项与路由表表项有着直接的对应关系，但是格式有所不同。

转发表中有一个目的网路和下一跳地址（MAC）

路由表总是通过软件实现的，转发表可以用软件实现，也可以使用特殊的硬件实现。

# 路由表与转发表的不同
路由表是由复杂的算法通过很多路由器得出的，而转发表仅涉及一个路由器。



