由之前的学习我们知道两个主机之间的通信是通过 ip 地址的，但是人们都不喜欢很长的数字，所以使用一个特定的字符串来对应 ip 地址，这个字符串就称为域名，比如 www.baidu.com。

DNS 是运行在 UDP 之上的，使用 53 端口。

从概念上可以将 DNS 分为 3 个部分：层次域名空间、域名服务器、解析器

# 层次域名空间
直接举例子吧。

如：www.cskaoyan.com，这个 com 是顶级域名，cskaoyan 是二级域名，www 是三级域名，意思就是域名的等级是从左到右增加的。有个根域名，就是一个"."。
顶级域名分为三类：

1. 国家（地区）顶级域名。如“.cn”表示中国，“.uk”表示英国
2. 通用顶级域名。如“.com”表公司，“.org”表示非盈利机构
3. 基础结构域名（arpa）。用于将 ip 地址解析为域名

命名方式是采用层次树状结构的。如下：

![](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1740296495034-5ccf8ee1-30ad-460e-8d90-1f9e8410e01c.jpeg)

# 域名服务器
DNS 使用了大量的域名服务器，但是没有一台 DNS 服务器有所有的主机映射，这些映射是分布在所有的域名服务器上，一共存在着 4 种域名服务器。

1. 根域名服务器：这是最高层次的域名服务器，所有的根服务器都知道所有的顶级域名服务器的域名和 ip 地址。根域名服务器是最重要的域名服务器，因为不管是因特网上哪一个本地域名服务器对域名无法解析后就首先要求助根服务器。根服务器不会直接告诉客户端要问的域名 ip，而是告诉它应该去找哪一个顶级域名服务器。
2. 顶级域名服务器：这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。收到 DNS 查询请求时，就给出相应的回答。
3. 权限域名服务器（授权域名服务器）：每台需要访问的主机都需要在权威域名服务器这里进行登记。
4. 本地域名服务器：当一台主机发送一个 DNS 查询请求时，这个请求报文就会发送给该主机的本地域名服务器。这个通常来说是通过 DHCP 协议从 DHCP 服务器那获取的，当然也可以自己手动填写。

# 域名解析
![](https://cdn.nlark.com/yuque/0/2025/png/48073730/1740279609768-49b3a31b-2455-45e3-ab3c-6b6f11fb706e.png)

主机到本地 DNS 服务器都是采用的递归查询，本地 DNS 服务器到其他 DNS 服务器采用递归或者迭代查询。

通过上面的图示很轻松地就知道这些是怎么回事，就不再赘言了。

