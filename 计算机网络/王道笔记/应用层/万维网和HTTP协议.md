# WWW 的概念与组成
万维网（WWW）是一个分布式，联机的信息存储空间。在这个空间中：
一样有用的事物称为一样资源，并由一个全域统一资源定位符 URL 标识。这些资源通过超文本传输协议（HTTP）传输给使用者，而后者通过单击链接来获取资源。

由此可以知道的是，万维网使用链接的方法让用户可以很方便地从一个站点访问另一个站点，从而主动地获取到丰富的信息。展示内容页面的话，使用的是超文本标记语言（HTML）。

万维网的内核部分是由三个标准构成的：

+ 统一资源定位符（URL）：负责标识万维网上的各种文档，并使每个文档在整个万维网上的范围内具有唯一的标识符 URL
+ 超文本传输协议（HTTP）：一个应用层的协议，它使用 TCP 连接进行可靠的传输，HTTP 是万维网客户程序和服务器程序之间交互必须遵守的协议
+ 超文本标记语言（HTML）：一种文档结构的标记语言，它使用一些约定的标记对页面上的各种信息、格式进行描述

URL 的格式就是浏览器上搜索的网址：具体格式是：

<协议>://<主机>:<端口>/<路径>。如我的这篇文档的 URL 为：

> [https://www.yuque.com/yuqueyonghu71tocz/kmswnx/gprx7cqauvpg6bw2](https://www.yuque.com/yuqueyonghu71tocz/kmswnx/gprx7cqauvpg6bw2)
>

WWW 也是采用的 C/S 模式进行工作，我们使用的浏览器就是运行在本地的万维网客户程序，而万维网文档所在的主机则运行服务端程序。

工作流程如下：我们在 Java 那里使用的 thy 技术就是这样的撒

1. Web 用户使用浏览器（指定 URL）与 Web 服务器建立连接，并发送浏览请求
2. Web 服务器把 URL 转换为文件路径，并返回信息给 Web 浏览器
3. 通信完成，关闭连接

万维网是无数个网络站点和网页的集合，他们在一起构成了因特网最主要的部分（因特网还包括电子邮件、Usenet 和新闻组）。

# 超文本传输协议（HTTP）
HTTP 定义了浏览器（万维网客户进程）怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器。从层次的角度看，HTTP 是面向事务的应用层协议，其规定了在浏览器和服务器之间的请求和响应的格式与规则，是万维网能够可靠地交换文件的重要基础。对于我们 IT 工作人员，在日常开发和作业时也少不了和 HTTP 打交道，所以还是非常清楚的。

## HTTP 的操作过程
![](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1740378158903-4d13e485-1b5e-4456-969e-27806471abda.jpeg)

在服务器端有个服务器进程会持续的监听 TCP 的 80 端口（HTTP 协议的默认端口），当监听到连接请求后便于浏览器建立 TCP 连接。然后，浏览器会向服务器发送请求以获取某个 Web 页面。服务器接收到请求后，将构建所请求 Web 页面的必要信息，并通过 HTTP 响应返回给浏览器。浏览器经过解析就会展示给用户看。最后，TCP 连接释放。

## HTTP 的特点
HTTP 建立在 TCP 协议之上，保证了数据传输的可靠性。HTTP 不需要考虑数据在传输过程中被丢弃后又怎样被重传，TCP 会实现的。

+ HTTP 是无连接的：这个是说在交换 HTTP 报文前不需要建立 HTTP 连接。虽然使用了 TCP 连接。
+ HTTP 是无状态的：就是说服务器不会记住来连接的客户，不管如何访问都是和第一次访问时的页面相同。

但是这个和我们熟知的那些网站有些不同呀，使用的京东呀，淘宝呀都知道我们买了什么商品，浏览了什么商品呀，这不是有记忆吗？这些是通过一些技术手段实现的，原理是使用一个唯一标识标识用户，然后将用户的行为通过后端记录到数据库中，下次来访问我的服务时，我就可以通过唯一标识来知道你干过什么啦，这里面比较出名的技术就是 Cookie 技术。


HTTP 协议既可以使用非持续连接（HTTP/1.0）又可以使用持续连接（HTTP/1.1）。

对于非持续连接，每个网页元素对象（如图片、Flash）的传输都需要单独建立一个 TCP 连接。这样的机制会导致服务器压力暴增，所以浏览器通常会建立多个并行的 TCP 以同时请求多个对象。



对于持续连接，是指万维网服务器在发送响应后仍然保持这条连接，使同一个客户和该服务器可以继续在这条 TCP 连接上传送后续的 HTTP 请求报文和响应报文。

![](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1740379635895-deb59013-e9a6-4299-80ce-f1c49efd13bb.jpeg)

可以看到这个持续连接展示的是非流水线的，就是说虽然可以使用这条 TCP，但是呢，只是说不需要连接了，该请求还是得请求，因此这个还是有点浪费服务器资源，因为需要等待下一个请求的到来。

当然咯，有非流水线的就肯定有流水线的，而流水线的就解决了这个问题。流水线的允许客户一次性发送多个请求，“  把你要的全部告诉我，我直接全部给你就完了“，但是因为下面有个 TCP，所以每个 RTT 内传送的数据量还要收到 TCP 发送窗口的限制，也就不能向理想那样为所欲为了。



## HTTP 的报文结构
HTTP 是面向文本，因此报文中的每个字段都是一些 ASCII 码串，并且每个字段的长度是不确定的。HTTP 报文类型一共分为两种：

+ 请求报文：从客户向服务器发送的请求报文
+ 响应报文：从服务器到客户的回答报文

![](https://cdn.nlark.com/yuque/0/2025/jpeg/48073730/1740380099927-b58d1f4a-0c35-4967-87cf-8f2325aaef16.jpeg)

了解一下就可以了，也可以自己到浏览器上去请求一下，使用控制台观察观察🤔[此处为语雀卡片，点击链接查看](https://www.yuque.com/docs/207110514#aF8Ym)



## HTTP 请求报文举例
在以太网数据帧中，各个部分代表的意义：

+ 第 1~6 字节是目的 MAC 地址（默认网关地址）
+ 第 7~12 字节是本机的 MAC 地址
+ 第 13~14 字节是类型字段
+ 第 15~34 字节是 IP 数据报的首部
+ 第 27~30 字节是源 IP 地址
+ 第 31~34 字节是目的 IP 地址
+ 第 35~54 字节是 TCP 报文段的首部

以下是从图片中提取并整理的文本信息：

# 常见的应用层协议
| 应用程序 | FTP 数据连接 | FTP 控制连接 | TELNET | SMTP | DNS | TFTP | HTTP | POP3 | SNMP |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 使用协议 | TCP | TCP | TCP | TCP | UDP | UDP | TCP | TCP | UDP |
| 熟知端口号 | 20 | 21 | 23 | 25 | 53 | 69 | 80 | 110 | 161 |

